{% extends "base.html" %}
{% block title %}Table{% endblock %}

{% block content %}
<div><br>
  <div class="container">

    <p class="mb-5" align="center">Hello there, Welcome to kharcha kam.<br>
    We are here to save you some money, just enter the name of the product that you want to buy<br>
    We will search your product on Amazon and Flipkart, then show them at the same place. </p>
    
    <form action="#" method="post">
      <h3 align="center">Enter the name of Product:&nbsp &nbsp &nbsp 
      <input type="text" name="nm" placeholder=""/>
      <input type="submit" value="Compare"></h3>
    </form>

    <h2>{{ key }}</h2>

    <div class="table-responsive custom-table-responsive">
      <table class="table custom-table">
        <thead>
          <tr>  
            <th scope="col">#</th>
            <th scope="col">Flipkart product</th>
            <th scope="col">Flipkart price</th>
            <th scope="col">Flipkart rating</th>
            <th scope="col">Amazon product</th>
            <th scope="col">Amazon price</th>
            <th scope="col">Amazon rating</th>
          </tr>
        </thead>
        <tbody>
          {% for index, row in flipkart_df.iterrows() %}      
          <tr scope="row">
            <td>{{ loop.index }}</td>
            <td>{{ row['name'] }}</td>
            <td>{{ row['price'] }}</td>
            <td>{{ row['rating'] }}</td>
            <td>{{ amazon_df.loc[index, 'name'] }}</td>
            <td>{{ amazon_df.loc[index, 'price'] }}</td>
            <td>{{ amazon_df.loc[index, 'rating'] }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
